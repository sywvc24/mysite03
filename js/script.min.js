const displacementSlider=function(opts){let vertex="\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    ",fragment="\n\n        varying vec2 vUv;\n\n        uniform sampler2D currentImage;\n        uniform sampler2D nextImage;\n\n        uniform float dispFactor;\n\n        void main() {\n\n            vec2 uv = vUv;\n            vec4 _currentImage;\n            vec4 _nextImage;\n            float intensity = 0.3;\n\n            vec4 orig1 = texture2D(currentImage, uv);\n            vec4 orig2 = texture2D(nextImage, uv);\n\n            _currentImage = texture2D(currentImage, vec2(uv.x, uv.y + dispFactor * (orig2 * intensity)));\n\n            _nextImage = texture2D(nextImage, vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1 * intensity)));\n\n            vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n\n            gl_FragColor = finalTexture;\n\n        }\n    ",images=opts.images,image,sliderImages=[],canvasWidth=images[0].clientWidth,canvasHeight=images[0].clientHeight,parent=opts.parent,renderWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),renderHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),renderW,renderH;renderW=renderWidth>canvasWidth?renderWidth:canvasWidth,renderH=canvasHeight;let renderer=new THREE.WebGLRenderer({antialias:!1});renderer.setPixelRatio(window.devicePixelRatio),renderer.setClearColor(2303786,1),renderer.setSize(renderW,renderH),parent.appendChild(renderer.domElement);let loader=new THREE.TextureLoader;loader.crossOrigin="anonymous",images.forEach(img=>{image=loader.load(img.getAttribute("src")+"?v="+Date.now()),image.magFilter=image.minFilter=THREE.LinearFilter,image.anisotropy=renderer.capabilities.getMaxAnisotropy(),sliderImages.push(image)});let scene=new THREE.Scene;scene.background=new THREE.Color(2303786);let camera=new THREE.OrthographicCamera(renderWidth/-2,renderWidth/2,renderHeight/2,renderHeight/-2,1,1e3);camera.position.z=1;let mat=new THREE.ShaderMaterial({uniforms:{dispFactor:{type:"f",value:0},currentImage:{type:"t",value:sliderImages[0]},nextImage:{type:"t",value:sliderImages[1]}},vertexShader:vertex,fragmentShader:fragment,transparent:!0,opacity:1}),geometry=new THREE.PlaneBufferGeometry(parent.offsetWidth,parent.offsetHeight,1),object=new THREE.Mesh(geometry,mat),addEvents;object.position.set(0,0,0),scene.add(object),function(){let pagButtons=Array.from(document.getElementById("pagination").querySelectorAll("button")),isAnimating=!1;pagButtons.forEach(el=>{el.addEventListener("click",(function(){if(!isAnimating){isAnimating=!0,document.getElementById("pagination").querySelectorAll(".active")[0].className="",this.className="active";let slideId=parseInt(this.dataset.slide,10);mat.uniforms.nextImage.value=sliderImages[slideId],mat.uniforms.nextImage.needsUpdate=!0,gsap.to(mat.uniforms.dispFactor,1,{value:1,ease:"Expo.easeInOut",onComplete:function(){mat.uniforms.currentImage.value=sliderImages[slideId],mat.uniforms.currentImage.needsUpdate=!0,mat.uniforms.dispFactor.value=0,isAnimating=!1}});let slideTitleEl=document.getElementById("slide-title"),slideStatusEl=document.getElementById("slide-status"),nextSlideTitle=document.querySelectorAll(`[data-slide-title="${slideId}"]`)[0].innerHTML,nextSlideStatus=document.querySelectorAll(`[data-slide-status="${slideId}"]`)[0].innerHTML;gsap.fromTo(slideTitleEl,.5,{autoAlpha:1,filter:"blur(0px)",y:0},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){slideTitleEl.innerHTML=nextSlideTitle,gsap.to(slideTitleEl,.5,{autoAlpha:1,filter:"blur(0px)",y:0})}}),gsap.fromTo(slideStatusEl,.5,{autoAlpha:1,filter:"blur(0px)",y:0},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){slideStatusEl.innerHTML=nextSlideStatus,gsap.to(slideStatusEl,.5,{autoAlpha:1,filter:"blur(0px)",y:0,delay:.1})}})}}))})}(),window.addEventListener("resize",(function(e){renderer.setSize(renderW,renderH)}));let animate=function(){requestAnimationFrame(animate),renderer.render(scene,camera)};animate()};imagesLoaded(document.querySelectorAll("img"),()=>{const el=document.getElementById("slider"),imgs=Array.from(el.querySelectorAll(".mv-img"));new displacementSlider({parent:el,images:imgs})});const tl=gsap.timeline();window.addEventListener("load",()=>{tl.to(".loading-inner",{opacity:0,duration:.4,delay:.4,ease:"power2.out"}).to(".loader",{display:"none"});let i=1;const slideBtn=document.getElementById("pagination"),autoplay=()=>{document.getElementById("btn"+i).click(),i++},intervalId=setInterval(()=>{autoplay(),i===slideBtn.childElementCount&&clearInterval(intervalId)},2e3)});const body=document.body,hamburger=document.getElementById("js-hamburger"),blackBg=document.getElementById("js-black-bg"),menuList=document.getElementById("indexList");hamburger.addEventListener("click",e=>{body.classList.toggle("nav-open")}),blackBg.addEventListener("click",e=>{body.classList.remove("nav-open")}),menuList.addEventListener("click",e=>{body.classList.contains("nav-open")&&body.classList.remove("nav-open")});const touch="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;if(touch)try{for(let si in document.styleSheets){const styleSheet=document.styleSheets[si];if(styleSheet.rules)for(let ri=styleSheet.rules.length-1;ri>=0;ri--)styleSheet.rules[ri].selectorText&&styleSheet.rules[ri].selectorText.match(":hover")&&styleSheet.deleteRule(ri)}}catch(ex){}const scroll=new SmoothScroll('a[href*="#"]',{speedAsDuration:!0,speed:1500,easing:"easeInOutQuint"});if(!navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)){function equalHeight(elements){const target=Array.from(document.querySelectorAll(elements)),heightList=[];target.forEach(element=>{const height=element.clientHeight;heightList.push(height)});const maxHeight=Math.max.apply(null,heightList);target.forEach(element=>{element.style.height=maxHeight+"px"})}equalHeight(".menu-txt")}const iSObservers=document.querySelectorAll(".waypoint"),options={root:null,rootMargin:"0px",threshold:.2},inView=target=>{target.classList.contains("aboutImgT")?target.classList.add("fadeInLeft"):target.classList.contains("aboutImgB")?target.classList.add("fadeInRight"):target.classList.contains("odd-li")?target.classList.add("fadeInBottomLeft"):target.classList.contains("even-li")?target.classList.add("fadeInBottomRight"):target.classList.contains("news-article")?target.classList.add("fadeInUp"):target.classList.contains("matrix")?target.classList.add("is-animated"):target.classList.contains("fade-txt")&&target.classList.add("fadeIn")},observeUse=entries=>{entries.forEach(entry=>{entry.isIntersecting&&inView(entry.target)})},observer=new IntersectionObserver(observeUse,options);iSObservers.forEach(iSObserver=>{observer.observe(iSObserver)});